<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8"/>
		<title>Canvas tutorial</title>
		<script type="text/javascript">

var canvas,ctx;
var offset = 0;
var anim_speed = 0;
var tron;
function init_canvas() {
   canvas = document.getElementById('tutorial');
   ctx = canvas.getContext('2d');
	tron = new Path2D();
	tron.moveTo(20, 100);
	tron.lineTo(90, 100);
	tron.lineTo(90, 70);
	tron.lineTo(120, 70);
	tron.lineTo(120, 60);
	tron.lineTo(30, 60);
	console.log(tron)
	march();
}

function draw() {
	ctx.save();
	ctx.clearRect(0, 0, canvas.width, canvas.height);

	bill = new Path2D(tron);
	bill.lineTo(30, 60 - anim_speed);

	// shadow
	ctx.shadowOffsetX = 1;
	ctx.shadowOffsetY = 1;
	ctx.shadowBlur = 5;
	ctx.shadowColor = 'black';

	// color
	ctx.strokeStyle = 'red'

	// line style
	ctx.lineCap = 'round';
	ctx.lineJoin = 'round';
	ctx.lineWidth = 10;

	// draw it!
	ctx.stroke(bill);

	ctx.restore();
}

// a timeout loop!
function march() {
	draw();
	anim_speed++;
	if (anim_speed > 40) {
		anim_speed = 0;
	}
	setTimeout(march, 20)
}

		</script>
		<style type="text/css">
canvas { border: 1px solid black; }
		</style>
	</head>
	<body onload="init_canvas();">
		<canvas id="tutorial" width="150" height="150"></canvas>
	</body>
</html>
